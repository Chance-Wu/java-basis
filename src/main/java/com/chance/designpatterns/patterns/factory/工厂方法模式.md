> 好的代码不只为了完成现有功能，也会考虑后续扩展。
1.在结构设计上`松耦合易读易扩展`。
2.在领域实现上`高内聚不对外暴漏实现细节不被外部干扰`。
而这就有点像家里三居(MVC)室、四居(DDD)室的装修，你不会允许几十万的房子把走线水管裸漏在外面，也不会允许把马桶放到厨房，炉灶安装到卫生间。

> 谁发明了设计模式？设计模式的概念最早是由克里斯托佛·亚历山大 在其著作《建筑模式语言》中首次提出的。本书介绍了城市设计的“语言”，提供了253个描述城镇、邻里、住宅、花园、房间及西部构造的模式，而此类“语言”的基本单元就是模式。后来，埃里希·伽玛、约翰·弗利赛德斯、拉尔夫·约翰逊和理查德·赫尔姆这四位作者接受了模式的概念。1994年，他们出版了《设计模式：可复用面向对象软件的基础》一书，将设计模式的概念应用到程序开发领域中。 
其实有一部分人并没有仔细阅读过设计模式的相关书籍和资料，但依旧可以编写出优秀的代码。这主要是由于在经过众多项目的锤炼和对程序设计的不断追求，从而在多年编程历程上提炼出来的心得体会。而这份经验最终会与设计模式提到的内容几乎一致，同样会要求高内聚、低耦合、可扩展、可复用。你可能也遇到类似的经历，在学习一些框架的源码时，发现它里的某些设计和你在做开发时一样。
设计模式是由多年的经验提炼出来开发指导思想。就像我告诉你自行车怎么骑、汽车怎么开，但只要你没跑过几千公里，你能记住的只是理论，想上道依旧很慌！

1、工厂方法模式介绍
--
工厂模式（工厂方法模式）：是一种创建型设计模式，`其在父类中提供一个创建对象的方法，允许子类决定实例化对象的类型。`

它的主要意图是定义一个创建对象的接口，`让其子类自己决定实例化哪一个工厂类`，工厂模式使其创建过程延迟到子类进行。
﻿
简单说就是为了提供代码结构的扩展性，屏蔽每一个功能类中的具体实现逻辑。让外部可以更加简单的只是知道调用即可，同时，这也是去掉众多ifelse的方式。当然这可能也有一些缺点，比如需要实现的类非常多，如何去维护，怎样减低开发成本。但这些问题都可以在后续的设计模式结合使用中，逐步降低。

2、模拟发奖多种商品
--
模拟积分兑换中的发放多种类型商品，假如现在我们有如下三种类型的商品接口：

|序号|类型           |接口                                                                  |
|---|---------------|---------------------------------------------------------------------|
|1  |优惠券          |CouponResult sendCoupon(String uID, String couponNumber, String uuid)|
|2  |实物商品        |Boolean deliverGoods(DeliverReq req)                                 |
|3  |第三方爱奇艺兑换卡|void grantToken(String bindMobileNumber,String cardId)               |

* 三个接口返回类型不同，有对象类型、布尔类型、还有一个空类型。
* 入参不同，发放优惠券需要仿重、兑换卡需要卡ID、实物商品需要发货位置(对象中含有)。
* 另外可能会随着后续的业务的发展，会新增其他种商品类型。因为你所有的开发需求都是随着业务对市场的拓展而带来的。

3、代码实现
--

> if else 实现需求

> 工厂模式实现

* 创建统一发放奖品的接口；
* 创建每种奖品各自发放的实现类；
* 创建商店工厂；

通过实例化工厂，调取方法，来选择不同的发放奖品方式。

4、总结
--
* 从上到下的优化来看，工厂方法模式并不复杂，甚至这样的开发结构在你有所理解后，会发现更加简单了。
* 那么这样的开发的好处知道后，也可以总结出来它的优点；避免创建者与具体的产品逻辑耦合、满足单一职责，每一个业务逻辑实现都在所属自己的类中完成、满足开闭原则，无需更改使用调用方就可以在程序中引入新的产品类型。但这样也会带来一些问题，比如有非常多的奖品类型，那么实现的子类会极速扩张。因此也需要使用其他的模式进行优化，这些在后续的设计模式中会逐步涉及到。
* 从案例入手看设计模式往往要比看理论学的更加容易，因为案例是缩短理论到上手的最佳方式，如果你已经有所收获，一定要去尝试实操。

